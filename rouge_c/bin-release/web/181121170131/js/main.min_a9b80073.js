var __reflect=this&&this.__reflect||function(t,e,i){t.__class__=e,i?i.push(e):i=[e],t.__types__=t.__types__?i.concat(t.__types__):i},__extends=this&&this.__extends||function(t,e){function i(){this.constructor=t}for(var s in e)e.hasOwnProperty(s)&&(t[s]=e[s]);i.prototype=e.prototype,t.prototype=new i},__awaiter=this&&this.__awaiter||function(t,e,i,s){return new(i||(i=Promise))(function(n,o){function r(t){try{l(s.next(t))}catch(e){o(e)}}function h(t){try{l(s["throw"](t))}catch(e){o(e)}}function l(t){t.done?n(t.value):new i(function(e){e(t.value)}).then(r,h)}l((s=s.apply(t,e||[])).next())})},__generator=this&&this.__generator||function(t,e){function i(t){return function(e){return s([t,e])}}function s(i){if(n)throw new TypeError("Generator is already executing.");for(;l;)try{if(n=1,o&&(r=o[2&i[0]?"return":i[0]?"throw":"next"])&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[0,r.value]),i[0]){case 0:case 1:r=i;break;case 4:return l.label++,{value:i[1],done:!1};case 5:l.label++,o=i[1],i=[0];continue;case 7:i=l.ops.pop(),l.trys.pop();continue;default:if(r=l.trys,!(r=r.length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){l=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){l.label=i[1];break}if(6===i[0]&&l.label<r[1]){l.label=r[1],r=i;break}if(r&&l.label<r[2]){l.label=r[2],l.ops.push(i);break}r[2]&&l.ops.pop(),l.trys.pop();continue}i=e.call(t,l)}catch(s){i=[6,s],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}var n,o,r,h,l={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return h={next:i(0),"throw":i(1),"return":i(2)},"function"==typeof Symbol&&(h[Symbol.iterator]=function(){return this}),h},MainSence=function(t){function e(){var e=t.call(this)||this;return e.index=1,e.skinName="resource/skin/mainsence.exml",e}return __extends(e,t),e.prototype.childrenCreated=function(){t.prototype.childrenCreated.call(this),this.init(),this.rad1.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickRad1,this),this.rad2.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickRad2,this),this.img_bg.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickImg_bg,this),this.btn1.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickBtn,this),this.btn2.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickBtn,this),this.btn3.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickBtn,this),this.btn4.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickBtn,this),this.btn5.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickBtn,this),this.btn6.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickBtn,this),this.btn7.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickBtn,this),this.btn8.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickBtn,this),this.btn9.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickBtn,this),this.lb_kh.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickBtn,this),this.lb_lp.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickBtn,this),this.lb_pf.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickBtn,this),this.lb_0.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickBtn,this),this.lb_100.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickBtn,this),this.lb_300.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickBtn,this),this.lb_500.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickBtn,this)},e.prototype.init=function(){this.Clcik(),this.lb_kh.textColor=10355262,this.lb_0.textColor=15663191,this.freeType=!0,this.goodsType=1;var t=new egret.Timer(3e3,0);t.addEventListener(egret.TimerEvent.TIMER,this.timerFunc,this),t.start()},e.prototype.timerFunc=function(){this.Clcik(),this.index++,this.index>2&&(this.index=1)},e.prototype.onClickRad1=function(){this.index=1,this.Clcik()},e.prototype.onClickRad2=function(){this.index=2,this.Clcik()},e.prototype.onClickImg_bg=function(){1==this.index?(console.log("第一个"),this.addChild(new ShouChong)):2==this.index&&(console.log("第二个"),this.addChild(new YaoQing))},e.prototype.onClickBtn=function(t){utils.SoundUtils.instance().playAnniu();var e=t.target;switch(e.name){case"btn_kh":console.log("口红"),this.goodsType=1,this.lb_kh.textColor=10355262,this.lb_lp.textColor=16777215,this.lb_pf.textColor=16777215;break;case"btn_lp":console.log("礼品"),this.goodsType=2,this.lb_kh.textColor=16777215,this.lb_lp.textColor=10355262,this.lb_pf.textColor=16777215;break;case"btn_pf":console.log("皮肤"),this.goodsType=3,this.lb_kh.textColor=16777215,this.lb_lp.textColor=16777215,this.lb_pf.textColor=10355262;break;case"btn1":this.freeType=!0,this.type=1,console.log("是否免费:"+this.freeType+"%%游戏模式"+this.type+"&&&礼品方式："+this.goodsType),this.addChild(new Begin(this.freeType,this.type,this.goodsType));break;case"btn2":this.freeType=!0,this.type=2,console.log("是否免费:"+this.freeType+"%%游戏模式"+this.type+"&&&礼品方式："+this.goodsType),this.addChild(new Begin(this.freeType,this.type,this.goodsType));break;case"btn3":this.freeType=!0,this.type=3,console.log("是否免费:"+this.freeType+"%%游戏模式"+this.type+"&&&礼品方式："+this.goodsType),this.addChild(new Begin(this.freeType,this.type,this.goodsType));break;case"btn4":this.freeType=!1,this.type=2,console.log("是否免费:"+this.freeType+"%%游戏模式"+this.type+"&&&礼品方式："+this.goodsType),this.addChild(new Begin(this.freeType,this.type,this.goodsType));break;case"btn5":this.freeType=!1,this.type=3,console.log("是否免费:"+this.freeType+"%%游戏模式"+this.type+"&&&礼品方式："+this.goodsType),this.addChild(new Begin(this.freeType,this.type,this.goodsType));break;case"btn6":this.freeType=!1,this.type=2,console.log("是否免费:"+this.freeType+"%%游戏模式"+this.type+"&&&礼品方式："+this.goodsType),this.addChild(new Begin(this.freeType,this.type,this.goodsType));break;case"btn7":this.freeType=!1,this.type=3,console.log("是否免费:"+this.freeType+"%%游戏模式"+this.type+"&&&礼品方式："+this.goodsType),this.addChild(new Begin(this.freeType,this.type,this.goodsType));break;case"btn8":this.freeType=!1,this.type=2,console.log("是否免费:"+this.freeType+"%%游戏模式"+this.type+"&&&礼品方式："+this.goodsType),this.addChild(new Begin(this.freeType,this.type,this.goodsType));break;case"btn9":this.freeType=!1,this.type=3,console.log("是否免费:"+this.freeType+"%%游戏模式"+this.type+"&&&礼品方式："+this.goodsType),this.addChild(new Begin(this.freeType,this.type,this.goodsType));break;case"btn_0":this.gp_0.visible=!0,this.gp_100.visible=!1,this.gp_300.visible=!1,this.gp_500.visible=!1,this.freeType=!1,console.log("0积分 免费费模式"),this.lb_0.textColor=15663191,this.lb_100.textColor=3355443,this.lb_300.textColor=3355443,this.lb_500.textColor=3355443;break;case"btn_100":console.log("100积分 付费模式"),this.gp_0.visible=!1,this.gp_100.visible=!0,this.gp_300.visible=!1,this.gp_500.visible=!1,this.freeType=!0,this.lb_0.textColor=3355443,this.lb_100.textColor=15663191,this.lb_300.textColor=3355443,this.lb_500.textColor=3355443;break;case"btn_300":console.log("300积分 付费模式"),this.gp_0.visible=!1,this.gp_100.visible=!1,this.gp_300.visible=!0,this.gp_500.visible=!1,this.freeType=!0,this.lb_0.textColor=3355443,this.lb_100.textColor=3355443,this.lb_300.textColor=15663191,this.lb_500.textColor=3355443;break;case"btn_500":console.log("500积分 付费模式"),this.gp_0.visible=!1,this.gp_100.visible=!1,this.gp_300.visible=!1,this.gp_500.visible=!0,this.freeType=!0,this.lb_0.textColor=3355443,this.lb_100.textColor=3355443,this.lb_300.textColor=3355443,this.lb_500.textColor=15663191}},e.prototype.Clcik=function(){1==this.index?(this.img_bg.source="resource/assets/dating/lunbo_1.png",this.rad1.selected=!0,this.rad2.selected=!1,this.rad3.selected=!1):2==this.index&&(this.img_bg.source="resource/assets/dating/lunbo_2.png",this.rad2.selected=!0,this.rad1.selected=!1,this.rad3.selected=!1)},e}(eui.Component);__reflect(MainSence.prototype,"MainSence");var AssetAdapter=function(){function t(){}return t.prototype.getAsset=function(t,e,i){function s(s){e.call(i,s,t)}if(RES.hasRes(t)){var n=RES.getRes(t);n?s(n):RES.getResAsync(t,s,this)}else RES.getResByUrl(t,s,this,RES.ResourceItem.TYPE_IMAGE)},t}();__reflect(AssetAdapter.prototype,"AssetAdapter",["eui.IAssetAdapter"]);var GameMain=function(t){function e(e,i,s,n){var o=t.call(this)||this;return o.moveSpeed=25,o.jiaodu=10,o.juli=500,o.fly_juli=700,o._fangxiang=360,o.rotateArr=[],o._level=1,o.rArr=[],o.config={lev0:{zhuansu:2,time:45,rougeNum:3},lev1:{zhuansu:2,time:45,rougeNum:4},lev2:{zhuansu:3,time:45,rougeNum:5},lev3:{zhuansu:4,time:45,rougeNum:6},lev4:{zhuansu:5,time:15,rougeNum:15},lev5:{zhuansu:10,time:15,rougeNum:20}},o._begin=e,o._freeType=i,o._type=s,o._goodsType=n,o.skinName="resource/skin/gamemain.exml",o}return __extends(e,t),e.prototype.childrenCreated=function(){t.prototype.childrenCreated.call(this),console.log("是否免费:"+this._freeType+"%%游戏模式"+this._type+"&&&礼品方式："+this._goodsType),utils.SoundUtils.instance().playBg(),3==this._type?(this.initXS(),this.lb_guan.visible=!1):(this.init(),this.lb_guan.visible=!0),egret.Ticker.getInstance().register(function(){this.rect_dangban.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickInsert,this),this.update()},this)},e.prototype.init=function(){function t(t){this.miao--,this.miao<=0&&(this.miao=0),this.lb_time.text=this.miao,console.log("倒计时:"+this.miao)}function e(t){console.log("结束"),this.rect_dangban.visible=!1,this.GameOver(),this.timer.stop(),console.log("定时器停止")}for(var i=this.getRougeNum(this._level),s=this,n=0;i>n;n++){var o=new Goods_item;s.gp_rouge.addChild(o),o.y=o.height*n+5*n}this.gp_guan.visible=!1,this.rect_dangban.visible=!0;var r=this.getTime(this._level);console.log("倒计时"+r),this.timer=new egret.Timer(1e3,r),this.timer.addEventListener(egret.TimerEvent.TIMER,t,this),this.timer.addEventListener(egret.TimerEvent.TIMER_COMPLETE,e,this),this.timer.start(),this.miao=r,this.speed=this.getSpeed(this._level),console.log("速度"+this.speed)},e.prototype.initXS=function(){function t(t){this.miao--,this.miao<=0&&(this.miao=0),this.lb_time.text=this.miao,console.log("倒计时:"+this.miao)}function e(t){console.log("限时模式结束"),this.rect_dangban.visible=!1,this.timer.stop(),console.log("定时器停止"),this.addChild(new XsOver(this,this.score,this._type))}console.log(this._type),this.gp_guan.visible=!1,this.rect_dangban.visible=!0;var i=this.getTime(this._level);console.log("倒计时"+i),this.timer=new egret.Timer(1e3,i),this.timer.addEventListener(egret.TimerEvent.TIMER,t,this),this.timer.addEventListener(egret.TimerEvent.TIMER_COMPLETE,e,this),this.timer.start(),this.miao=i,this.speed=this.getSpeed(this._level),console.log("速度"+this.speed)},e.prototype.GameOver=function(){null==this.gameover?(this.gameover=new GameOver(this,this.score,this._type,this._level),this.addChild(this.gameover)):this.gameover.visible=!0},e.prototype.onClickInsert=function(){this.rouge=new egret.Bitmap,this.rouge.texture=RES.getRes("rouge_png"),this.rouge.anchorOffsetX=this.rouge.width/2,this.rouge.anchorOffsetY=0,this.rouge.x=this.gp_circle.x,this.rouge.y=this.gp_circle.y+this.juli,console.log(this.rouge.x+"###"+this.rouge.y),this.addChild(this.rouge),this.isMoving=!0},e.prototype.update=function(){this.gp_circle.rotation+=this.speed,this.img_juzi.rotation+=this.speed,this.lb_guan.text="第"+this._level+"关",this.isMoving&&(this.rouge.y-=this.moveSpeed,this.rect_dangban.touchEnabled=!1),this.isMoving&&this.isMove()},e.prototype.isMove=function(){if(this.rouge.y<this.fly_juli){this.isMoving=!1,this.rect_dangban.touchEnabled=!0;var t=this.localToGlobal(this.rouge.x,this.rouge.y),e=this.gp_circle.globalToLocal(t.x,t.y);this.rouge.x=e.x,this.rouge.y=e.y,this.rouge.rotation=-this.gp_circle.rotation,this.gp_circle.addChild(this.rouge),this.score=this.gp_circle.numChildren;var i=Math.floor(this.rouge.rotation);0>i&&(i=360+i),this.rotateArr.push(i),console.log(this.rotateArr),this.rArr=this.rotateArr,console.log(this.score);var s=this.gp_circle.numChildren,n=this.getRougeNum(this._level);if(3!=this._type?this.lb_rougeNum.text="剩余数量: "+(n-s)+"/"+n:this.lb_rougeNum.text="分数: "+s,this.rArr.length>1){if(s>=n&&3!=this._type){this._level++,this.speed=this.getSpeed(this._level),console.log("过关之后的速度"+this.speed),this.img_guan.source="resource/assets/game/guan"+this._level+".png",this._level>2&&1==this._type?(console.log("体验模式结束 "),this.GameOver()):this._level>=4&&2==this._type&&console.log("通关 获得奖励"),console.log(this._level+"关"),this.timer.stop(),this.gp_guan.visible=!0;egret.setTimeout(function(t){console.log("延时三秒:",t),this.initGame()},this,3e3,"egret")}for(var o=0;o<this.rArr.length-1;o++)for(var r=o+1;r<this.rArr.length;r++)Math.abs(this.rArr[o]-this.rArr[r])<=this.jiaodu&&(this.timer.stop(),1==this._type||2==this._type?this.GameOver():this.addChild(new XsOver(this,this.score,this._type)))}}},e.prototype.initGame=function(){function t(t){this.miao--,this.miao<=0&&(this.miao=0),this.lb_time.text=this.miao,console.log("倒计时:"+this.miao)}function e(t){console.log("结束"),this.rect_dangban.visible=!1,this.GameOver(),this.timer.stop(),console.log("定时器停止")}console.log("游戏初始化"),console.log(this._level),console.log(this.speed),this.gp_guan.visible=!1,this.gp_circle.removeChildren(),this.rArr=[],this.rotateArr=[],this.rect_dangban.visible=!0;var i=this.getTime(this._level);console.log("当前时间"+i),console.log("当前速度"+this.speed),this.timer=new egret.Timer(1e3,i),this.timer.addEventListener(egret.TimerEvent.TIMER,t,this),this.timer.addEventListener(egret.TimerEvent.TIMER_COMPLETE,e,this),this.timer.start(),this.miao=i;for(var s=this.getRougeNum(this._level),n=this,o=0;s>o;o++){var r=new Goods_item;n.gp_rouge.addChild(r),r.y=r.height*o+5*o}},e.prototype.initGame1=function(){function t(t){this.miao--,this.miao<=0&&(this.miao=0),this.lb_time.text=this.miao,console.log("倒计时:"+this.miao)}function e(t){console.log("结束"),this.rect_dangban.visible=!1,this.GameOver(),this.timer.stop(),console.log("定时器停止")}console.log("游戏初始化"),console.log(this._level),this.gp_guan.visible=!1,this.gp_circle.removeChildren(),this.rArr=[],this.rotateArr=[],this.rect_dangban.visible=!0;var i=this.getTime(this._level);console.log("倒计时"+i),this.timer=new egret.Timer(1e3,i),this.timer.addEventListener(egret.TimerEvent.TIMER,t,this),this.timer.addEventListener(egret.TimerEvent.TIMER_COMPLETE,e,this),this.timer.start(),this.miao=i;for(var s=this.getRougeNum(this._level),n=this,o=0;s>o;o++){var r=new Goods_item;n.gp_rouge.addChild(r),r.y=r.height*o+5*o}},e.prototype.initGame2=function(){function t(t){this.miao--,this.miao<=0&&(this.miao=0),this.lb_time.text=this.miao,console.log("倒计时:"+this.miao)}function e(t){console.log("结束"),this.rect_dangban.visible=!1,this.GameOver(),this.timer.stop(),console.log("定时器停止")}console.log("游戏初始化"),console.log(this._level),this.gp_guan.visible=!1,this.rotateArr=[],this.rect_dangban.visible=!0;var i=this.getTime(this._level);console.log("倒计时"+i),this.timer=new egret.Timer(1e3,i),this.timer.addEventListener(egret.TimerEvent.TIMER,t,this),this.timer.addEventListener(egret.TimerEvent.TIMER_COMPLETE,e,this),this.timer.start(),this.miao=i;for(var s=this.getRougeNum(this._level),n=this,o=0;s>o;o++){var r=new Goods_item;n.gp_rouge.addChild(r),r.y=r.height*o+5*o}},e.prototype.getTime=function(t){return this.config["lev"+t].time},e.prototype.getSpeed=function(t){return this.config["lev"+t].zhuansu},e.prototype.getRougeNum=function(t){return this.config["lev"+t].rougeNum},e}(eui.Component);__reflect(GameMain.prototype,"GameMain");var GameOver=function(t){function e(e,i,s,n){var o=t.call(this)||this;return o._score=i,o._type=s,o._level=n,o._gamemain=e,o.skinName="resource/skin/gameover.exml",o}return __extends(e,t),e.prototype.childrenCreated=function(){t.prototype.childrenCreated.call(this),this.init(),this.btn_fangqi.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickFangqi,this),this.btn_fangqi1.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickFangqi,this),this.btn_reset.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickReset,this)},e.prototype.init=function(){1==this._type?this.gp_tiyan.visible=!0:2==this._type&&(this.lb_score.text="游戏结束！恭喜您闯过了了"+(this._level-1)+"关!",this.gp_tiyan.visible=!1)},e.prototype.onClickFangqi=function(){this.addChild(new MainSence)},e.prototype.onClickReset=function(){this.visible=!1,this._gamemain.initGame1()},e}(eui.Component);__reflect(GameOver.prototype,"GameOver");var Goods_item=function(t){function e(){var e=t.call(this)||this;return e.skinName="resource/skin/goods_item.exml",e}return __extends(e,t),e.prototype.childrenCreated=function(){t.prototype.childrenCreated.call(this),this.init()},e.prototype.init=function(){},e}(eui.Component);__reflect(Goods_item.prototype,"Goods_item");var LoadingUI=function(t){function e(){var e=t.call(this)||this;return e.createView(),e}return __extends(e,t),e.prototype.createView=function(){this.textField=new egret.TextField,this.addChild(this.textField),this.textField.y=300,this.textField.width=480,this.textField.height=100,this.textField.textAlign="center"},e.prototype.onProgress=function(t,e){this.textField.text="Loading..."+t+"/"+e},e}(egret.Sprite);__reflect(LoadingUI.prototype,"LoadingUI",["RES.PromiseTaskReporter"]);var Main=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.createChildren=function(){t.prototype.createChildren.call(this),egret.lifecycle.addLifecycleListener(function(t){}),egret.lifecycle.onPause=function(){egret.ticker.pause()},egret.lifecycle.onResume=function(){egret.ticker.resume()};var e=new AssetAdapter;egret.registerImplementation("eui.IAssetAdapter",e),egret.registerImplementation("eui.IThemeAdapter",new ThemeAdapter),this.runGame()["catch"](function(t){console.log(t)})},e.prototype.runGame=function(){return __awaiter(this,void 0,void 0,function(){var t,e;return __generator(this,function(i){switch(i.label){case 0:return[4,this.loadResource()];case 1:return i.sent(),this.GetInfo(this,this.GetInfoCallBack),this.createGameScene(),[4,RES.getResAsync("description_json")];case 2:return t=i.sent(),[4,platform.login()];case 3:return i.sent(),[4,platform.getUserInfo()];case 4:return e=i.sent(),console.log(e),[2]}})})},e.prototype.GetInfo=function(t,e){var i=new egret.HttpRequest;i.responseType=egret.HttpResponseType.TEXT;var s=egret.getOption("openId"),n="kh.chitugame.com/ct-admin/player/getPlayerByOpenId?openId="+s;i.open(n,egret.HttpMethod.GET),i.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),i.send(),console.log("wxGetOpenShare!!!"),i.addEventListener(egret.Event.COMPLETE,e,t),i.addEventListener(egret.IOErrorEvent.IO_ERROR,this.onPostIOError,this),i.addEventListener(egret.ProgressEvent.PROGRESS,this.onPostProgress,this)},e.prototype.onPostIOError=function(t){console.log("post error : "+t)},e.prototype.onPostProgress=function(t){console.log("post progress : "+Math.floor(100*t.bytesLoaded/t.bytesTotal)+"%")},e.prototype.GetInfoCallBack=function(t){var e=t.currentTarget,i=e.response.toString();console.log("LoginCallBack:"+i);JSON.parse(i)},e.prototype.loadResource=function(){return __awaiter(this,void 0,void 0,function(){var t,e;return __generator(this,function(i){switch(i.label){case 0:return i.trys.push([0,4,,5]),t=new LoadingUI,this.stage.addChild(t),[4,RES.loadConfig("resource/default.res.json","resource/")];case 1:return i.sent(),[4,this.loadTheme()];case 2:return i.sent(),[4,RES.loadGroup("preload",0,t)];case 3:return i.sent(),this.stage.removeChild(t),[3,5];case 4:return e=i.sent(),console.error(e),[3,5];case 5:return[2]}})})},e.prototype.loadTheme=function(){var t=this;return new Promise(function(e,i){var s=new eui.Theme("resource/default.thm.json",t.stage);s.addEventListener(eui.UIEvent.COMPLETE,function(){e()},t)})},e.prototype.createGameScene=function(){utils.SoundUtils.instance().initSound(),this.addChild(new MainSence)},e.prototype.createBitmapByName=function(t){var e=new egret.Bitmap,i=RES.getRes(t);return e.texture=i,e},e}(eui.UILayer);__reflect(Main.prototype,"Main");var Begin=function(t){function e(e,i,s){var n=t.call(this)||this;return n._freeType=e,n._type=i,n._goodsType=s,n.skinName="resource/skin/begin.exml",n}return __extends(e,t),e.prototype.childrenCreated=function(){t.prototype.childrenCreated.call(this),this.init(),this.btn_share.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickShare,this),this.btn_begin.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickBegin,this)},e.prototype.init=function(){},e.prototype.onClickShare=function(){},e.prototype.onClickBegin=function(){null==this.gameMain?(console.log("没创建过开始界面"),this.gameMain=new GameMain(this,this._freeType,this._type,this._goodsType),this.addChild(this.gameMain)):(this.gameMain.visible=!0,console.log("创建过开始界面"))},e}(eui.Component);__reflect(Begin.prototype,"Begin");var DebugPlatform=function(){function t(){}return t.prototype.getUserInfo=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){return[2,{nickName:"username"}]})})},t.prototype.login=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){return[2]})})},t}();__reflect(DebugPlatform.prototype,"DebugPlatform",["Platform"]),window.platform||(window.platform=new DebugPlatform);var ShouChong=function(t){function e(){var e=t.call(this)||this;return e.skinName="resource/skin/shouchong.exml",e}return __extends(e,t),e.prototype.childrenCreated=function(){t.prototype.childrenCreated.call(this),this.init(),this.img_close.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickClose,this)},e.prototype.init=function(){},e.prototype.onClickClose=function(){this.parent.removeChild(this)},e}(eui.Component);__reflect(ShouChong.prototype,"ShouChong");var utils;!function(t){var e=function(t){function e(e){var i=t.call(this)||this;return i._soundURL="bgSound",i._positon=0,i._loop=1,i._status=0,e&&(i._soundURL=e),i._sound=new egret.Sound,i._loadSound(),i}return __extends(e,t),e.prototype._loadSound=function(){RES.getRes(this._soundURL)?this._sound=RES.getRes(this._soundURL):(this._sound.once(egret.Event.COMPLETE,this.loadComplete,this),this._sound.once(egret.IOErrorEvent.IO_ERROR,this.onLoadErr,this),this._sound.load(this._soundURL))},e.prototype.loadComplete=function(t){this._status=3;var e="加载完成";console.log(e),egret.log(e),this._sound.removeEventListener(egret.IOErrorEvent.IO_ERROR,this.onLoadErr,this),this.dispatchEventWith(egret.Event.COMPLETE,!1,e)},e.prototype.onLoadErr=function(t){this._status=4;var e="加载失败"+this._soundURL;egret.log(e),this._sound.removeEventListener(egret.Event.COMPLETE,this.loadComplete,this),this.dispatchEventWith(egret.IOErrorEvent.IO_ERROR,!1,e)},e.prototype.setUrl=function(t){this._soundURL=t,this._loadSound()},e.prototype.looped=function(t){console.log("looped"),this._soundChannel=null,this._positon=0,this._status=0;var e="播放完成";this._loop>=0?this.dispatchEventWith(egret.Event.SOUND_COMPLETE,!1,e):this.play()},e.prototype.getStatus=function(){return this._status},e.prototype.setVolume=function(t){console.log(this._status),1===this._status&&(this._soundChannel.volume=t/100)},e.prototype.showPosition=function(){return 1===this._status&&(this._positon=this._soundChannel.position),this._positon},e.prototype.play=function(){return-1!=this._status?4===this._status?void this._loadSound():(this._status=1,this._soundChannel&&this._soundChannel.stop(),this._soundChannel=this._sound.play(this._positon,1),this._soundChannel.once(egret.Event.SOUND_COMPLETE,this.looped,this),this._status):void 0},e.prototype.setLoop=function(t){return void 0===t&&(t=1),this._loop=t,t},e.prototype.pause=function(){var t=this._status;return 1===t&&(this._positon=this._soundChannel.position,this._soundChannel.stop(),this._status=2),egret.log(this._positon),t},e.prototype.resume=function(){var t=this._status;return 2===t&&this.play(),egret.log(this._positon),t},e.prototype.stop=function(){this._status=0,this._positon=0,this._soundChannel.stop(),this._soundChannel=null},e}(egret.DisplayObjectContainer);t.SoundBase=e,__reflect(e.prototype,"utils.SoundBase")}(utils||(utils={}));var utils;!function(t){var e=function(){function e(){if(null!=e._instance)throw new Error("singleton")}return e.instance=function(){return null==this._instance?this._instance=new e:this._instance},e.prototype.initSound=function(){console.log("initSound!!!"),this.anniu=new t.SoundBase("anniu_mp3"),this.bg=new t.SoundBase("bg_mp3"),this.daojishi=new t.SoundBase("daojishi_mp3"),this.loading=new t.SoundBase("loading_mp3"),this.success=new t.SoundBase("success_mp3"),this.shibai=new t.SoundBase("shibai_mp3")},e.prototype.playAnniu=function(){this.anniu.play()},e.prototype.playBg=function(){this.bg.play()},e.prototype.stopBg=function(){this.bg.stop()},e.prototype.playDaojishi=function(){this.daojishi.play()},e.prototype.playLoading=function(){this.loading.play()},e.prototype.playSuccess=function(){this.success.play()},e.prototype.playShibai=function(){this.shibai.play()},e}();t.SoundUtils=e,__reflect(e.prototype,"utils.SoundUtils")}(utils||(utils={}));var ThemeAdapter=function(){function t(){}return t.prototype.getTheme=function(t,e,i,s){function n(t){e.call(s,t)}function o(e){e.resItem.url==t&&(RES.removeEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR,o,null),i.call(s))}var r=this;if("undefined"!=typeof generateEUI)egret.callLater(function(){e.call(s,generateEUI)},this);else if("undefined"!=typeof generateEUI2)RES.getResByUrl("resource/gameEui.json",function(t,i){window.JSONParseClass.setData(t),egret.callLater(function(){e.call(s,generateEUI2)},r)},this,RES.ResourceItem.TYPE_JSON);else if("undefined"!=typeof generateJSON)if(t.indexOf(".exml")>-1){var h=t.split("/");h.pop();var l=h.join("/")+"_EUI.json";generateJSON.paths[t]?egret.callLater(function(){e.call(s,generateJSON.paths[t])},this):RES.getResByUrl(l,function(i){window.JSONParseClass.setData(i),egret.callLater(function(){e.call(s,generateJSON.paths[t])},r)},this,RES.ResourceItem.TYPE_JSON)}else egret.callLater(function(){e.call(s,generateJSON)},this);else RES.addEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR,o,null),RES.getResByUrl(t,n,this,RES.ResourceItem.TYPE_TEXT)},t}();__reflect(ThemeAdapter.prototype,"ThemeAdapter",["eui.IThemeAdapter"]);var XsOver=function(t){function e(e,i,s){var n=t.call(this)||this;return n._score=i,n._type=s,n._gamemain=e,n.skinName="resource/skin/xsover.exml",n}return __extends(e,t),e.prototype.childrenCreated=function(){t.prototype.childrenCreated.call(this),this.init(),this.btn_fangqi.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickFangqi,this),this.btn_fangqi1.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickFangqi,this),this.btn_reset.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickReset,this)},e.prototype.init=function(){egret.log(this._score)},e.prototype.onClickFangqi=function(){this.addChild(new MainSence)},e.prototype.onClickReset=function(){this.visible=!1,this._gamemain.initGame2()},e}(eui.Component);__reflect(XsOver.prototype,"XsOver");var YaoQing=function(t){function e(){var e=t.call(this)||this;return e.skinName="resource/skin/yaoqing.exml",e}return __extends(e,t),e.prototype.childrenCreated=function(){t.prototype.childrenCreated.call(this),this.init(),this.img_close.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickClose,this)},e.prototype.init=function(){},e.prototype.onClickClose=function(){this.parent.removeChild(this)},e}(eui.Component);__reflect(YaoQing.prototype,"YaoQing");